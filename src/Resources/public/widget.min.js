!function(t,e,i,n){"use strict";function s(e,i){this.element=t(e),this.settings=t.extend({},a,this.parseJson(this.element.find("[data-cfg-tags-config]").eq(0)),i),this.init()}var a={allowCreate:!0,delimiter:","};t.extend(s.prototype,{init:function(){this.initSelectize(this.element.find("[data-cfg-tags-input]").eq(0)),this.bindEvents()},bindEvents:function(){this.element.find("[data-cfg-tags-tag]").on("click",function(e){this.selectize.addItem(t(e.currentTarget).data("cfg-tags-tag"))}.bind(this)),this.element.on("click",".selectize-input > div",function(e){this.selectize.removeItem(t(e.currentTarget).data("value")),this.selectize.refreshOptions()}.bind(this))},initSelectize:function(t){var e={delimiter:this.settings.delimiter,options:this.parseJson(this.element.find("[data-cfg-tags-all]").eq(0)),items:this.parseJson(this.element.find("[data-cfg-tags-value]").eq(0)),persist:!1};this.settings.allowCreate&&(e.create=function(t){return{value:t,text:t}}),t.selectize(e),this.selectize=t[0].selectize},parseJson:function(t){var e=[];try{e=JSON.parse(t.text())}catch(t){return[]}return e}}),t.fn.cfgTags=function(e){return this.each(function(){t.data(this,"plugin_cfgTags")||t.data(this,"plugin_cfgTags",new s(this,e))})}}(jQuery,window,document);